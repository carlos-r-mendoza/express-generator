"use strict";var app=angular.module("ngMyApp",[]);app.controller("mainController",["$scope","UsersFactory","PostsFactory","CommentsFactory",function(a,b,c,d){a.title="Sample Social Media Application Using Angular and Express!",b.getUsers().then(function(b){a.users=b}),c.get().then(function(b){a.posts=b,console.log("POSTS",b)}),d.get().then(function(a){console.log("COMMENTS",a)}),a.toggleProfile=function(b){a.profilePosts=!1,a.profileDetails=!0,a.userDetails=b,a.postComments=[],c.getByUserId(b.id).then(function(b){a.userPosts=b})},a.showUserProfile=function(){a.profilePosts=!1,a.profileDetails=!0},a.showUserPosts=function(){a.profileDetails=!1,a.profilePosts=!0},a.postComments=[],a.togglePostComments=function(b,c){d.getByPostId(b).then(function(b){a.postComments[c]=b})}}]),app.factory("APIConfigFactory",[function(){return{devRoot:"http://jsonplaceholder.typicode.com",prodRoot:"",env:"dev",setEnv:function(){},getRoot:function(){return"dev"===this.env?this.devRoot:"prod"===this.env?this.prodRoot:void 0}}}]),app.factory("UsersFactory",["$http","APIConfigFactory",function(a,b){return{getUsers:function(){return a.get(b.getRoot()+"/users").then(function(a){return a.data})}}}]),app.factory("PostsFactory",["$http","APIConfigFactory",function(a,b){return{get:function(){return a.get(b.getRoot()+"/posts").then(function(a){return a.data})},getByUserId:function(c){return console.log("id",c),a.get(b.getRoot()+"/posts?userId="+c).then(function(a){return console.log("fad",a.data),a.data})}}}]),app.factory("CommentsFactory",["$http","APIConfigFactory",function(a,b){return{get:function(){return a.get(b.getRoot()+"/comments/").then(function(a){return a.data})},getByPostId:function(c){return a.get(b.getRoot()+"/comments?postId="+c).then(function(a){return a.data})}}}]),app.filter("postsUsers",function(){return function(a){return a.filter(function(a){return 5===a.userId})}});